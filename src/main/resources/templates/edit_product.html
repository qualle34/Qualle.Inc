<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org"
      lang="en">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1">

    <title>Qualle.inc | Admin</title>

    <link href="https://fonts.googleapis.com/css?family=Open+Sans&display=swap" rel="stylesheet">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.0/jquery.min.js"></script>

    <link rel="stylesheet" type="text/css" href="../static/css/form.css" th:href="@{/css/form.css}"/>
    <link rel="stylesheet" type="text/css" href="../static/css/admin.css" th:href="@{/css/admin.css}"/>
    <link rel="stylesheet" type="text/css" href="../static/css/header.css" th:href="@{/css/header.css}"/>

    <script src="../js/common.js" type="text/javascript"></script>
</head>
<body>

<div id="wrapper">

    <div th:insert="fragments/header :: header"></div>

    <div class="wrapper d-flex align-items-stretch">

        <nav id="sidebar" th:insert="fragments/sidebar :: sidebar"></nav>

        <div id="content" class="p-4">

            <div class="box">

                <div class="container-contact">

                    <div class="wrap-form">
                        <div class="contact-form-title">
                            <span class="contact-form-title-2"> Заполните все поля! </span>
                        </div>

                        <form class="contact-form validate-form" method="post" th:if="${product == null}" th:action="@{'/admin/product/add'}">

                            <div class="wrap-input validate-input">
                                <span class="label-input">Название:</span>
                                <input class="input" type="text" name="title" placeholder="Введите название игры*">
                                <span class="focus-input"></span>
                            </div>

                            <div class="wrap-input validate-input">
                                <span class="label-input">Цена:</span>
                                <input class="input" type="text" name="price" placeholder="Введите цену игры" value="">
                                <span class="focus-input"></span>
                            </div>

                            <div class="wrap-input validate-input">
                                <span class="label-input">Ссылка на картинку:</span>
                                <input class="input" type="text" name="image" placeholder="Введите путь к катинке">
                                <span class="focus-input"></span>
                            </div>

                            <div class="wrap-input validate-input">
                                <span class="label-input">Описание:</span>
                                <textarea class="input" name="description" placeholder="Описание игры..."></textarea>
                                <span class="focus-input"></span>
                            </div>

                            <div class="wrap-input validate-input">
                                <span class="label-input">Разработчик:</span>
                                <select size="5" name="developerId">
                                    <option th:each="developer : ${developers}" th:value="${developer.id}" th:text="${developer.title}"></option>
                                </select>
                                <span class="focus-input"></span>
                            </div>

                            <div class="wrap-input validate-input">
                                <span class="label-input">Категория:</span>
                                <select size="5" name="categoryId">
                                    <option th:each="category : ${categories}" th:value="${category.id}" th:text="${category.value}"></option>
                                </select>
                                <span class="focus-input"></span>
                            </div>

                            <div class="wrap-input validate-input">
                                <span class="label-input">Жанр:</span>
                                <select size="5" name="genreId">
                                    <option th:each="genre : ${genres}" th:value="${genre.id}" th:text="${genre.value}"></option>
                                </select>
                                <span class="focus-input"></span>
                            </div>


                            <div class="container-contact-form-btn">
                                <button class="contact-form-btn" type="submit">
                                    <span>ОК</span>
                                </button>
                            </div>
                        </form>

                        <form class="contact-form validate-form" method="post" th:if="${product != null}" th:action="@{'/admin/product/update'}">

                            <div class="wrap-input validate-input">
                                <span class="label-input">Название:</span>
                                <input class="input" th:value="${product.title}" type="text" name="title" placeholder="Введите название игры*">
                                <span class="focus-input"></span>
                            </div>

                            <div class="wrap-input validate-input">
                                <span class="label-input">Цена:</span>
                                <input class="input" th:value="${product.price}" type="text" name="price" placeholder="Введите цену игры" value="">
                                <span class="focus-input"></span>
                            </div>

                            <div class="wrap-input validate-input">
                                <span class="label-input">Ссылка на картинку:</span>
                                <input class="input" th:value="${product.image.link}" type="text" name="image" placeholder="Введите путь к катинке">
                                <span class="focus-input"></span>
                            </div>

                            <div class="wrap-input validate-input">
                                <span class="label-input">Описание:</span>
                                <textarea class="input" th:value="${product.description}" name="description" placeholder="Описание игры..."></textarea>
                                <span class="focus-input"></span>
                            </div>

                            <div class="wrap-input validate-input">
                                <span class="label-input" th:text="${'Разработчик: ' + product.developer.title}"></span>
                                <select size="5" name="developerId">
                                    <option th:each="developer : ${developers}" th:value="${developer.id}" th:text="${developer.title}"></option>
                                </select>
                                <span class="focus-input"></span>
                            </div>

                            <div class="wrap-input validate-input">
                                <span class="label-input" th:text="${'Категория: ' + product.category.value}"></span>
                                <select size="5" name="categoryId">
                                    <option th:each="category : ${categories}" th:value="${category.id}" th:text="${category.value}"></option>
                                </select>
                                <span class="focus-input"></span>
                            </div>

                            <div class="wrap-input validate-input">
                                <span class="label-input" th:text="${'Жанр: ' + product.genre.value}"></span>
                                <select size="5" name="genreId">
                                    <option th:each="genre : ${genres}" th:value="${genre.id}" th:text="${genre.value}"></option>
                                </select>
                                <span class="focus-input"></span>
                            </div>

                            <input th:value="${product.id}" type="hidden" name="id"/>

                            <div class="container-contact-form-btn">
                                <button class="contact-form-btn" type="submit">
                                    <span>ОК</span>
                                </button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>

        </div>
    </div>

</div>

</body>
</html>